<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8" />
	<title>Pablo's Project</title>
	<link rel="icon" type="favicon.ico" href="./img/favicon.ico">
	<link rel="stylesheet" href="style.css" />
	<link rel="stylesheet" href="game.css" />

	<script>
let numero =  Math.floor(Math.random()*100+1);


function check_number(){

	console.log(numero);
	
	let jugador = document.getElementById("numero_jugador").value;
	console.log(jugador);

	let valor = parseInt(jugador);

	if (isNaN(valor)){
		document.getElementById("resultado").innerHTML = "<strong class=\"error\">ERROR</strong>";
		return;
	}

	if (valor > numero) {
		document.getElementById("resultado").innerHTML = ("<em>El numero " + valor + " es mayor</em>");
	}
	else if (valor < numero){
		document.getElementById("resultado").innerHTML = ("<em>El numero " + valor + " es menor</em>");
	}
	else{
		document.getElementById("resultado").innerHTML = ("<strong>Moltbee</strong>");
	}
}

/*Juego adivinanzas*/
// Variables globales
let adivinanzas = []; // Array de objetos con adivinanza y respuesta
let adivinanzaActual = 0; // Índice de la adivinanza actual en el arreglo

// Obtener el elemento HTML que contiene la adivinanza y la respuesta
const adivinanzaElement = document.getElementById("adivinanza");
const respuestaInput = document.getElementById("respuesta");

// Función para cargar las adivinanzas desde el archivo JSON
function cargarAdivinanzas() {
  fetch("adivinanzas.json")
    .then((response) => response.json())
    .then((data) => {
      adivinanzas = data;
      mostrarAdivinanza(adivinanzaActual);
    })
    .catch((error) => console.error(error));
}

// Función para mostrar la adivinanza actual en pantalla
function mostrarAdivinanza(index) {
  adivinanzaElement.textContent = adivinanzas[index].adivinanza;
}

// Función para manejar el evento de clic en el botón
function verificarRespuesta() {
  const respuesta = respuestaInput.value.toLowerCase();
  if (respuesta === adivinazas[adivinanzaActual].respuesta.toLowerCase()) {
    // La respuesta es correcta, avanzar a la siguiente adivinanza
    adivinanzaActual++;
    if (adivinanzaActual >= adivinanzas.length) {
      // Ya se han mostrado todas las adivinanzas, mostrar mensaje de fin del juego
      adivinanzaElement.textContent = "¡Felicitaciones, has completado todas las adivinanzas!";
      respuestaInput.disabled = true;
    } else {
      // Mostrar la siguiente adivinanza
      mostrarAdivinanza(adivinanzaActual);
      respuestaInput.value = "";
    }
  } else {
    // La respuesta es incorrecta, no avanzar a la siguiente adivinanza
    alert("Respuesta incorrecta. Intenta de nuevo.");
  }
}


/* PRUEBA
fetch("enbuscadepaco.json").then(function(response){
	return response.json();
}).then(function(data){
	console.log(data.name);
	
});

function carga_datos (id_character) {
	fetch("character"+id_character+".json").then(function(response) {
		return response.json();
	}).then(function(data){	
		let lista = "<ul>";
		lista += "<li>Name: "+data.name+"</li>";
		lista += "<li>Age: "+data.age+"</li>";
		lista += "<li>Race: "+data.race+"</li>";
		lista += "<li>Height: "+data.height+"</li>";
		lista += "</ul>";
		console.log(data);
		document.getElementById("character_data").innerHTML = lista;

	});
}
*/

</script>
</head>
<body id="game-page">
	<header>
		<h1>Pablo López Socias <abbr title="Escola de Noves Tecnologies Interactives">ENTI</abbr></h1>
		<p>Soy estudiante de Cyber,  me gusta investigar, leer y actualizarme</p>
	</header>	

	<nav class="menu">
		<ul>
			<li><a href="index.html">Portada</a></li>
			<li><a href="cv.html">CV</a></li>
			<li><a href="game.html">Juego</a></li>
			<li><a href="hobbies.html">Hobbies</a></li>
			<li><a href="contact.html">Contacto</a></li>
		</ul>
	</nav>

	<main>
		<h2 id="titulo_juego">Adivina el número entre el 1 y el 100</h2>
		<form>
			<p id="resultado">Introduce un número</p>
			<p><input type="text" id="numero_jugador"/></p>
			<button type="button" onClick="check_number();" id="botoncito">¡Adivina!</button>

		<h3>Adivina la adivinanza</h3>
		<p id="adivinanza"></p>
		<label for="respuesta">Escribe tu respuesta:</label>
		<input type="text" id="respuesta">
		<button onclick="comprobarRespuesta()">Comprobar</button>
		<p id="mensaje"></p>
		
		</form>

		<!--form id="characters" >
		<ul id="character_list">
			<li><button type="button" id="character1" onClick="carga_datos(1);">Eustaquio</button></li>
			<li><button type="button" id="character2" onClick="carga_datos(2);">Mariana</button></li>
		</ul>
		<section id="character_data">
		
		</section-->
		
		</form>


	</main>

	<footer>
		<p>&copy; Pablo - 2023</p>
	</footer>

</body>
</html>

